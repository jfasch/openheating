# -*- python -*-

from openheating.plant.service_def import ThermometerService
from openheating.plant.service_def import SwitchService
from openheating.plant.service_def import CircuitService
from openheating.plant.service_def import ErrorService
from openheating.plant.service_def import CrashTestDummyService

from openheating.plant import locations__ac_subst

ADD_SERVICE(ThermometerService(config = locations__ac_subst.confdir + '/thermometers.pyconf'))
ADD_SERVICE(SwitchService(config = locations__ac_subst.confdir + '/switches.pyconf'))
ADD_SERVICE(CircuitService(config = locations__ac_subst.confdir + '/circuits.pyconf'))
ADD_SERVICE(ErrorService())

# testing service crashes

# ADD_SERVICE(CrashTestDummyService(
#     # no_busname=True,
#     crash_in_operation_after_nsecs=3,
# ))
